<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cn.ctbri.entity.TaskMapper">
<sql id="cols">taskId,order_asset_Id,execute_time,status,remarks</sql>
	<resultMap type="com.cn.ctbri.entity.Task" id="TaskRM">
		<id property="taskId" column="taskId"/>
		<result property="order_asset_Id" column="order_asset_Id"/>
		<result property="execute_time" column="execute_time"/>
		<result property="status" column="status"/>
		<result property="remarks" column="remarks"/>
	</resultMap> 
	<!-- 根据条件查询任务表 -->
	<select id="findTask" parameterType="hashmap" resultMap="TaskRM">
		select * from cs_task t
		where t.status = #{status}
		limit #{page}
	</select>
	
	<!-- 更新任务信息 -->
	<update id="update"  parameterType="com.cn.ctbri.entity.Task">
		update cs_task
		<set>
			<if test="status!=null">
				status=#{status}
			</if>
			<if test="execute_time!=null">
				execute_time=#{execute_time}
			</if>
		</set>
		where taskId = #{taskId}
	</update>
</mapper>